{"version":3,"sources":["firebase.utils.js"],"names":["_app","require","_auth","_firestore","firebaseConfig","apiKey","authDomain","projectId","storageBucket","firebaseApp","initializeApp","provider","GoogleAuthProvider","prompt","setCustomParameters","auth","getAuth","signInWithGooglePopup","db","getFirestore","createUserDocumentFromAuth","userAuth","userDocRef","displayName","email","createdAt","regeneratorRuntime","async","_context","prev","next","doc","uid","log","awrap","getDoc","sent","exists","Date","setDoc","console","t0","message","abrupt","stop"],"mappings":"oKAAA,IAAAA,KAAAC,QAAA,gBACAC,MAAAD,QAAA,iBACAE,WAAAF,QAAA,sBACMG,eAAiB,CAEnBC,OAAQ,0CALZC,WAAA,wCACAC,UAAA,wBACAC,cAAA,oCACMJ,kBAAiB,eAInBE,MAAAA,4CAIAE,cAAe,gBAWbC,aAAc,EAAAT,KAAAU,eAAAN,gBACdO,SAAW,IAAIC,MAAAA,mBAGjBC,SAAMC,oBAAE,CADZD,OAAA,mBAIO,IAAME,MAAO,EAAAb,MAAAc,6BACPC,IAAAA,sBAAAA,WAAAA,OAAAA,EAAAA,MAAAA,iBAAwBF,KAAAJ,+DAAA,IAAMO,IAAA,EAAAf,WAAAgB,8BAGpC,IAAMC,2BAA6B,SAAOC,GAAP,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAChCR,GAAa,EAAAnB,WAAA4B,KAAIb,GAAI,QAASG,EAASW,KAHpCd,QAAKe,IAAAX,GAEwBM,EAAAE,KAAA,EAAAJ,mBAAAQ,OAGX,EAAA/B,WAAAgC,QAAOb,IAHI,KAAA,EAAA,GAAAM,EAAAQ,KAAAC,SAAA,CAAAT,EAAAE,KAAA,GAAA,MAAA,OAAAP,EAAAF,EAAAE,YAAAC,EAAAH,EAAAG,MAAAC,EAAA,IAAAa,KAAAV,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAAAJ,mBAAAQ,OAAA,EAAA/B,WAAAoC,QAAAjB,EAAA,CAChCA,YAAAA,EACNkB,MAAAA,EAFsCf,UAAAA,KAAA,KAAA,GAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,MAAA,GAAAY,QAAAP,IAAA,0BAAAL,EAAAa,GAAAC,SAAA,KAAA,GAAA,OAAAd,EAAAe,OAAA,SAAArB,GAAA,KAAA,GAAA,IAAA,MAAA,OAAAM,EAAAgB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"firebase.utils.min.js","sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, signInWithPopup, signInWithRedirect } from 'firebase/auth';\nimport { doc, getDoc, getFirestore, setDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n\n    apiKey: \"AIzaSyA5Al7yntpvg4GqCeSKCzgERw-wiCbhvi0\",\n  \n    authDomain: \"marvel-comics-shop-db.firebaseapp.com\",\n  \n    projectId: \"marvel-comics-shop-db\",\n  \n    storageBucket: \"marvel-comics-shop-db.appspot.com\",\n  \n    messagingSenderId: \"714492416397\",\n  \n    appId: \"1:714492416397:web:5d4914bfa81e58838f2dc4\",\n  \n    measurementId: \"G-5SE39MBWLC\"\n  \n};\n  \n  \nconst firebaseApp = initializeApp(firebaseConfig);\nconst provider = new GoogleAuthProvider();\n\nprovider.setCustomParameters({\n    prompt: \"select_account\"\n});\n\nexport const auth = getAuth(); \nexport const signInWithGooglePopup = () => signInWithPopup(auth,provider);\nexport const db = getFirestore();\n\nexport const createUserDocumentFromAuth = async (userAuth) => {\n    const userDocRef = doc(db, 'users', userAuth.uid);\n    console.log(userDocRef);\n    const userSnapshot = await getDoc(userDocRef);\n  \n   // if user exists\n    if(!userSnapshot.exists()) {\n        const {displayName, email} = userAuth;\n        const createdAt = new Date();\n    try {\n        await setDoc(userDocRef, {\n            displayName,\n            email,\n            createdAt\n        });\n    } catch(e) {\n        console.log('error creating the user', e.message);\n    }\n}\n\n   // return userDocRef\n  \n    return userDocRef;\n}"]}
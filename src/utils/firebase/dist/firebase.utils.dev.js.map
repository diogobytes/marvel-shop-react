{"version":3,"sources":["firebase.utils.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","provider","GoogleAuthProvider","setCustomParameters","prompt","auth","signInWithGooglePopup","db","createUserDocumentFromAuth","userAuth","userDocRef","uid","console","log","userSnapshot","exists","displayName","email","createdAt","Date","message"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA,IAAMA,cAAc,GAAG;AAEnBC,EAAAA,MAAM,EAAE,yCAFW;AAInBC,EAAAA,UAAU,EAAE,uCAJO;AAMnBC,EAAAA,SAAS,EAAE,uBANQ;AAQnBC,EAAAA,aAAa,EAAE,mCARI;AAUnBC,EAAAA,iBAAiB,EAAE,cAVA;AAYnBC,EAAAA,KAAK,EAAE,2CAZY;AAcnBC,EAAAA,aAAa,EAAE;AAdI,CAAvB;AAmBA,IAAMC,WAAW,GAAG,wBAAcR,cAAd,CAApB;AACA,IAAMS,QAAQ,GAAG,IAAIC,wBAAJ,EAAjB;AAEAD,QAAQ,CAACE,mBAAT,CAA6B;AACzBC,EAAAA,MAAM,EAAE;AADiB,CAA7B;AAIO,IAAMC,IAAI,GAAG,oBAAb;;;AACA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAM,2BAAgBD,IAAhB,EAAqBJ,QAArB,CAAN;AAAA,CAA9B;;;AACA,IAAMM,EAAE,GAAG,8BAAX;;;AAEA,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChCC,UAAAA,UADgC,GACnB,oBAAIH,EAAJ,EAAQ,OAAR,EAAiBE,QAAQ,CAACE,GAA1B,CADmB;AAEtCC,UAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AAFsC;AAAA,0CAGX,uBAAOA,UAAP,CAHW;;AAAA;AAGhCI,UAAAA,YAHgC;;AAAA,cAMlCA,YAAY,CAACC,MAAb,EANkC;AAAA;AAAA;AAAA;;AAO3BC,UAAAA,WAP2B,GAOLP,QAPK,CAO3BO,WAP2B,EAOdC,KAPc,GAOLR,QAPK,CAOdQ,KAPc;AAQ5BC,UAAAA,SAR4B,GAQhB,IAAIC,IAAJ,EARgB;AAAA;AAAA;AAAA,0CAU5B,uBAAOT,UAAP,EAAmB;AACrBM,YAAAA,WAAW,EAAXA,WADqB;AAErBC,YAAAA,KAAK,EAALA,KAFqB;AAGrBC,YAAAA,SAAS,EAATA;AAHqB,WAAnB,CAV4B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAgBlCN,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,YAAEO,OAAzC;;AAhBkC;AAAA,2CAsB/BV,UAtB+B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnC","sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, signInWithPopup, signInWithRedirect } from 'firebase/auth';\nimport { doc, getDoc, getFirestore, setDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n\n    apiKey: \"AIzaSyA5Al7yntpvg4GqCeSKCzgERw-wiCbhvi0\",\n  \n    authDomain: \"marvel-comics-shop-db.firebaseapp.com\",\n  \n    projectId: \"marvel-comics-shop-db\",\n  \n    storageBucket: \"marvel-comics-shop-db.appspot.com\",\n  \n    messagingSenderId: \"714492416397\",\n  \n    appId: \"1:714492416397:web:5d4914bfa81e58838f2dc4\",\n  \n    measurementId: \"G-5SE39MBWLC\"\n  \n};\n  \n  \nconst firebaseApp = initializeApp(firebaseConfig);\nconst provider = new GoogleAuthProvider();\n\nprovider.setCustomParameters({\n    prompt: \"select_account\"\n});\n\nexport const auth = getAuth(); \nexport const signInWithGooglePopup = () => signInWithPopup(auth,provider);\nexport const db = getFirestore();\n\nexport const createUserDocumentFromAuth = async (userAuth) => {\n    const userDocRef = doc(db, 'users', userAuth.uid);\n    console.log(userDocRef);\n    const userSnapshot = await getDoc(userDocRef);\n  \n   // if user exists\n    if(!userSnapshot.exists()) {\n        const {displayName, email} = userAuth;\n        const createdAt = new Date();\n    try {\n        await setDoc(userDocRef, {\n            displayName,\n            email,\n            createdAt\n        });\n    } catch(e) {\n        console.log('error creating the user', e.message);\n    }\n}\n\n   // return userDocRef\n  \n    return userDocRef;\n}"],"file":"firebase.utils.dev.js"}
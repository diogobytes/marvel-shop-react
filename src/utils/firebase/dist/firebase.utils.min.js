"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createUserDocumentFromAuth=exports.db=exports.signInWithGooglePopup=exports.auth=void 0;var _app=require("firebase/app"),_auth=require("firebase/auth"),_firestore=require("firebase/firestore"),firebaseConfig={apiKey:"AIzaSyA5Al7yntpvg4GqCeSKCzgERw-wiCbhvi0",authDomain:"marvel-comics-shop-db.firebaseapp.com",projectId:"marvel-comics-shop-db",storageBucket:"marvel-comics-shop-db.appspot.com",messagingSenderId:"714492416397",appId:"1:714492416397:web:5d4914bfa81e58838f2dc4",measurementId:"G-5SE39MBWLC"},firebaseApp=(0,_app.initializeApp)(firebaseConfig),provider=new _auth.GoogleAuthProvider;provider.setCustomParameters({prompt:"select_account"});var auth=(0,_auth.getAuth)();exports.auth=auth;var signInWithGooglePopup=function(){return(0,_auth.signInWithPopup)(auth,provider)};exports.signInWithGooglePopup=signInWithGooglePopup;var db=(0,_firestore.getFirestore)();exports.db=db;var createUserDocumentFromAuth=function(r){var t,o,a,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_firestore.doc)(db,"users",r.uid),console.log(t),e.next=4,regeneratorRuntime.awrap((0,_firestore.getDoc)(t));case 4:if(e.sent.exists()){e.next=16;break}return o=r.displayName,a=r.email,s=new Date,e.prev=8,e.next=11,regeneratorRuntime.awrap((0,_firestore.setDoc)(t,{displayName:o,email:a,createdAt:s}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("error creating the user",e.t0.message);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},null,null,[[8,13]])};exports.createUserDocumentFromAuth=createUserDocumentFromAuth;
//# sourceMappingURL=firebase.utils.min.js.map
